define(["jquery"],function(a){return{init:function(b,c){function d(){var b=a(window).width(),c=a(window).height(),d=parseInt(k),e=parseInt(l);a("#modal_content").css({width:d+40+"px",height:e+40+"px"});var f=a("#modal_content").outerWidth(),g=a("#modal_content").outerHeight();a("#modal_content").css({left:(b-f)/2+"px",top:(c-g)/2+"px"})}function e(){if(a(this).blur(),a("#modal_window")[0])return!1;var b=parseInt(k),c=parseInt(l);a("#modal_content").css({width:b+40+"px",height:c+40+"px"});var e=document.documentElement,f=document.body;return i=e.scrollLeft||f.scrollLeft,j=e.scrollTop||f.scrollTop,a("body").append('<div id="modal_content"></div>'),a("body").append('<div id="modal_window"></div>'),a("#modal_window").fadeIn("normal"),d(),a("#modal_content").fadeIn("normal"),!0}function f(){window.scrollTo(i,j),a("#modal_content,#modal_window").fadeOut("normal",function(){a("#modal_window").remove(),a("#modal_content").remove()})}function g(){e();var b=a("#hidden_markup"),c="";c+="<center>",c+=null!==b?b.html():"Sorry! Media not found.",c+="</center>",c+="<center>",c+='<input type="button" id="cancel_btn" value="Close">',c+="</center>",a("#modal_content").append(c),a("#cancel_btn").on("click",function(){f()})}function h(){var b=null,c="",d="",e="",f="",g="",h="",i=new Date,j=i.getTime();if(b=a("#entry_id"),null!==b&&(c=b.val()),b=a("#kalturahost"),null!==b&&(d=b.val()),b=a("#partner_id"),null!==b&&(e=b.val()),b=a("#uiconfid"),null!==b&&(f=b.val()),b=a("#modalwidth"),null!==b&&(g=b.val()),b=a("#modalheight"),null!==b&&(h=b.val()),b=a("#hidden_markup"),null!==b&&""!==c&&""!==d&&""!==e&&""!==f&&""!==g&&""!==h){var k='<iframe src="'+d+"/p/"+e+"/sp/"+e+"00";k=k+"/embedIframeJs/uiconf_id/"+f+"/partnerid"+e,k=k+"?iframeembed=true&playerId=kaltura_player_"+j,k=k+"&entry_id="+c+'" width="'+g+'" height="'+h+'" ',k+='allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder="0"></iframe>',b.html(""),b.html(k)}}var i=0,j=0,k=b,l=c;a(window).on("unload",function(){window.onresize=d}),a(".media_thumbnail_cl").on("click",function(){var b=a("#entry_id"),c="";null!==b&&(c=b.val()),null!==c&&""!==c&&g()}),a("#media_thumbnail").on("load",function(){h()})}}});