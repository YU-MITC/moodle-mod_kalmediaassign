/**
 * Scripts for mod_kalmediaassign
 *
 * @copyright (C) 2016-2023 Yamaguchi University (gh-cc@mlex.cc.yamaguchi-u.ac.jp)
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_kalmediaassign/grading",["jquery"],(function($){return{init:function(argWidth,argHeight){var modalX=0,modalY=0,modalWidth=argWidth,modalHeight=argHeight;function centeringModalSyncer(){var w=$(window).width(),h=$(window).height(),width=parseInt(modalWidth),height=parseInt(modalHeight);$("#modal_content").css({width:width+40+"px",height:height+40+"px"});var cw=$("#modal_content").outerWidth(),ch=$("#modal_content").outerHeight();$("#modal_content").css({left:(w-cw)/2+"px",top:(h-ch)/2+"px"})}function createPreviewPanel(event){!function(){if($(this).blur(),$("#modal_window")[0])return!1;var width=parseInt(modalWidth),height=parseInt(modalHeight);$("#modal_content").css({width:width+40+"px",height:height+40+"px"});var dElm=document.documentElement,dBody=document.body;modalX=dElm.scrollLeft||dBody.scrollLeft,modalY=dElm.scrollTop||dBody.scrollTop,$("body").append('<div id="modal_window"></div>'),$("#modal_window").fadeIn("normal"),centeringModalSyncer(),$("#modal_content").fadeIn("normal")}();var entryId=event.target.id;entryId=entryId.substr(6);var element=$("#hidden_markup_"+entryId),str="";str+="<center>",str+=null!==element?element.html():"Sorry! Media not found.",str+="</center>",str+="<center>",str+='<input type="button" id="cancel_btn" value="Close">',str+="</center>",$("#modal_content").append(str),$("#cancel_btn").on("click",(function(){window.scrollTo(modalX,modalY),$("#modal_content,#modal_window").fadeOut("normal",(function(){$("#modal_window").remove(),$("#modal_content").html("")}))}))}$(window).on("unload",(function(){window.onresize=centeringModalSyncer})),$(".media_thumbnail_cl").on("click",(function(e){createPreviewPanel(e)}))}}}));

//# sourceMappingURL=grading.min.js.map