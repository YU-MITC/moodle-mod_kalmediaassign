define(["jquery"],function(a){return{init:function(b,c){function d(){var b=a(window).width(),c=a(window).height(),d=parseInt(j),e=parseInt(k);a("#modal_content").css({width:d+40+"px",height:e+40+"px"});var f=a("#modal_content").outerWidth(),g=a("#modal_content").outerHeight();a("#modal_content").css({left:(b-f)/2+"px",top:(c-g)/2+"px"})}function e(){if(a(this).blur(),a("#modal_window")[0])return!1;var b=parseInt(j),c=parseInt(k);a("#modal_content").css({width:b+40+"px",height:c+40+"px"});var e=document.documentElement,f=document.body;return h=e.scrollLeft||f.scrollLeft,i=e.scrollTop||f.scrollTop,a("body").append('<div id="modal_window"></div>'),a("#modal_window").fadeIn("normal"),d(),a("#modal_content").fadeIn("normal"),!0}function f(){window.scrollTo(h,i),a("#modal_content,#modal_window").fadeOut("normal",function(){a("#modal_window").remove(),a("#modal_content").html("")})}function g(b){e();var c=b.target.id;c=c.substr(6);var d=a("#hidden_markup_"+c),g="";g+="<center>",g+=null!==d?d.html():"Sorry! Media not found.",g+="</center>",g+="<center>",g+='<input type="button" id="cancel_btn" value="Close">',g+="</center>",a("#modal_content").append(g),a("#cancel_btn").on("click",function(){f()})}var h=0,i=0,j=b,k=c;a(window).on("unload",function(){window.onresize=d}),a(".media_thumbnail_cl").on("click",function(a){g(a)})}}});